function e(e="",t=1){let n=`https://api.themoviedb.org/3/trending/movie/week?api_key=1e7c9642f723687d0411097a32c8e17f&page=${t}&language=en-US`;return e&&(n=`https://api.themoviedb.org/3/search/movie?api_key=1e7c9642f723687d0411097a32c8e17f&query=${e}&page=${t}&language=en-US`),fetch(n).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>(console.log(e),e))).catch((e=>console.log(e)))}function t(e){document.querySelector(".list").innerHTML=e.reduce(((e,{id:t,poster_path:n,name:i,title:l,release_date:o,genre_ids:a})=>{const s=[];return JSON.parse(localStorage.getItem("genresList")).forEach((e=>{a.includes(e.id)&&s.push(e.name)})),e+`<li class="item" id="${t}">\n                        <div class="photo__wrapper">\n                            <a class="img__link" href="#">\n                                <img class="img" src="https://image.tmdb.org/t/p/w500/${n}" alt="" width="395"">\n                            </a>\n                        </div>\n                        <div class="data__content">\n                            <h2 class="title">${i||l}</h2>\n                            <p  class="text">${s.join(", ")} | ${o?o.slice(0,4):2022}</p>\n                        </div>\n                    </li>`}),"")}let n,i;const l=document.querySelector(".pagination");function o(e,t){let o="";n=e,i=t,e>1&&(o+="<li class='arrow'>&#129144;</li>"),e>1&&(o+="<li class='pagination__link pagination__link--first'>1</li>"),e>4&&(o+="<li class='pagination__link pagination__link--point'>...</li>"),e>3&&(o+=`<li class='pagination__link'>${e-2}</li>`),e>2&&(o+=`<li class='pagination__link'>${e-1}</li>`),o+=`<li class='pagination__link--active'>${e}</li>`,t-1>e&&(o+=`<li class='pagination__link'>${e+1}</li>`),t-2>e&&(o+=`<li class='pagination__link'>${e+2}</li>`),t-3>e&&(o+="<li class='pagination__link pagination__link--point'>...</li>"),t>e&&(o+=`<li class='pagination__link pagination__link--last'>${t}</li>`,o+="<li class='arrow'>&#129146;<li>"),l.innerHTML=o}l.addEventListener("click",(function(i){if("LI"!==i.target.nodeName)return;if("..."===i.target.textContent)return;"ðŸ¡¸"===i.target.textContent&&e(requst="",n-=1).then((e=>{o(e.page,e.total_pages),t(e.results),console.log(n)}));"ðŸ¡º"===i.target.textContent&&e(requst="",n+=1).then((e=>{o(e.page,e.total_pages),t(e.results),console.log(n)}))}));const a=document.querySelector(".btn-theme"),s=document.querySelector("body"),r=document.querySelector(".theme-light"),c=document.querySelector(".theme-night");a.addEventListener("click",(function(e){e.preventDefault(),s.classList.contains("dark-theme")?(s.classList.remove("dark-theme"),c.textContent="light_mode",s.classList.add("light-theme"),localStorage.setItem("theme","light-theme"),r.textContent=""):(s.classList.remove("light-theme"),c.textContent="dark_mode",s.classList.add("dark-theme"),localStorage.setItem("theme","dark-theme"),r.textContent="")})),"dark-theme"===localStorage.getItem("theme")&&(s.classList.add("dark-theme"),c.textContent="dark_mode",r.textContent=""),"light-theme"===localStorage.getItem("theme")&&(s.classList.add("light-theme"),c.textContent="",r.textContent="light_mode");const d=document.querySelector(".scroll__link"),g=document.querySelector(".scroll__wrapper");d.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo(0,-200)})),window.onscroll=()=>{window.scrollY>300?g.classList.remove("scroll__isHiden"):window.scrollY<300&&g.classList.add("scroll__isHiden")},(()=>{const e=document.querySelector("[data-modal-open]"),t=document.querySelector(".team-modal__button"),n=document.querySelector(".modal-overlay"),i=document.querySelector("body");function l(){i.classList.remove("scroll-hidden"),t.removeEventListener("click",l),n.classList.add("is-hidden"),n.removeEventListener("click",l),window.removeEventListener("keydown",o)}function o(e){"Escape"===e.code&&l()}function a(e){e.currentTarget===e.target&&l()}e.addEventListener("click",(function(){n.classList.remove("is-hidden"),window.addEventListener("keydown",o),t.addEventListener("click",l),n.addEventListener("click",a),i.classList.add("scroll-hidden")}))})(),fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=1e7c9642f723687d0411097a32c8e17f&language=en-US").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>{localStorage.setItem("genresList",JSON.stringify(e.genres))})).catch((e=>console.log(e))),e().then((e=>{t(e.results),o(e.page,e.total_pages)}));
//# sourceMappingURL=index.38d04f51.js.map
