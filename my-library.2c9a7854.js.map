{"mappings":"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","sources":["src/js/requester-api.js","src/js/render.js","src/js/theme-lite-dark.js","src/my-library.js"],"sourcesContent":["const API_KEY = '1e7c9642f723687d0411097a32c8e17f';\n\nexport function requesterApi(requst = '', numOfPage = 1) {\n    let ref = `https://api.themoviedb.org/3/trending/movie/week?api_key=${API_KEY}&page=${numOfPage}&language=en-US`;\n    if (requst) {\n        ref = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${requst}&page=${numOfPage}&language=en-US`\n    };\n    return fetch(ref)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(response.status);\n                }\n                return response.json();\n            })\n            .then(response => {\n                return response;\n            })\n            .catch(error => console.log(error));\n};\n\nexport function requesterApiByID(id) {\n    return fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(response.status);\n                }\n                return response.json();\n            })\n            .then(response => {\n                return response;\n            })\n            .catch(error => console.log(error));\n};\n\nexport function requesterApiGenres() {\n    fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}&language=en-US`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .then(response => {\n            localStorage.setItem(`genresList`, JSON.stringify(response.genres));\n        })\n        .catch(error => console.log(error));\n};","export function renderHomeCards(array) {\n    document.querySelector('.list')\n        .innerHTML = array.reduce((acc, { id, poster_path, name, title, release_date, genre_ids }) => {\n        const currentGenres = [];\n        JSON.parse(localStorage.getItem(`genresList`))\n            .forEach(elem => {\n                if (genre_ids.includes(elem.id)) {\n                    currentGenres.push(elem.name);\n                };\n            });\n        return acc + `<li class=\"item\" id=\"${id}\">\n                        <div class=\"photo__wrapper\">\n                            <a class=\"img__link\" href=\"#\">\n                                <img class=\"img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\" width=\"395\"\">\n                            </a>\n                        </div>\n                        <div class=\"data__content\">\n                            <h2 class=\"title\">${name ? name : title}</h2>\n                            <p  class=\"text\">${currentGenres.join(', ')} | ${release_date ? release_date.slice(0, 4) : 2022}</p>\n                        </div>\n                    </li>`\n    }, '');\n};\n\nexport function renderLibraryCards(array) {\n    document.querySelector('.list')\n        .innerHTML = array.reduce((acc, { id, poster_path, name, title, vote_average, release_date, genre_ids }) => {\n        const currentGenres = [];\n        JSON.parse(localStorage.getItem(`genresList`))\n            .forEach(elem => {\n                if (genre_ids.includes(elem.id)) {\n                    currentGenres.push(elem.name);\n                };\n            });\n        return acc + `<li class=\"item\" id=\"${id}\">\n                        <div class=\"photo__wrapper\">\n                            <a class=\"img__link\" href=\"#\">\n                                <img class=\"img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\" width=\"395\"\">\n                            </a>\n                        </div>\n                        <div class=\"data__content\">\n                            <h2 class=\"title\">${name ? name : title}</h2>\n                            <p  class=\"text\">${currentGenres.join(', ')} | ${release_date ? release_date.slice(0, 4) : 2022} ${vote_average.toFixed(1)}</p>\n                        </div>\n                    </li>`\n    }, '');\n};\n\nexport function renderModal({ id, genres, poster_path, title, original_title, vote_average, vote_count, popularity, overview}) {\n    const currentGenres = [];\n    genres.forEach(elem => currentGenres.push(elem.name));\n    document.querySelector('.list')\n        .innerHTML = `<div id=\"${id}\">\n                        <img class=\"card-img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\">\n                        <h2 class=\"card-header\">${title}</h2>\n                        <div class=\"card-stats\">\n                            <p>Vote / Votes</p>\n                            <p>Popularyty</p>\n                            <p>Original Title</p>\n                            <p>Genre</p>\n                        </div>\n                        <div class=\"card-stats-values\">\n                            <p><span>${vote_average.toFixed(1)}</span> / ${vote_count}</p>\n                            <p>${popularity.toFixed(1)}</p>\n                            <p>${original_title}</p>\n                            <p>${currentGenres.join(', ')}</p>\n                        </div>\n                        <p class=\"card-about\">About</p>\n                        <p class=\"card-description\">${overview}</p>\n                        <button class=\"card-watched-btn\">add to watched</button>\n                        <button class=\"card-ueue-btn\">add to queue</button>\n                    </div>`;\n};\n\nexport function renderWatchedOrQueue({ id, genres, poster_path, title, release_date, vote_average}) {\n    const currentGenres = [];\n    JSON.parse(localStorage.getItem(`genresList`))\n        .forEach(ganre => {\n            genres.forEach(elem => {\n                if (ganre.id === elem.id) {\n                    currentGenres.push(elem.name);\n                };\n            });\n        });\n    const data = `<li class=\"item\" id=\"${id}\">\n                    <div class=\"photo__wrapper\">\n                        <a class=\"img__link\" href=\"#\">\n                            <img class=\"img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\" width=\"395\"\">\n                        </a>\n                    </div>\n                    <div class=\"data__content\">\n                        <h2 class=\"title\">${title}</h2>\n                        <p  class=\"text\">${currentGenres.join(', ')} | ${release_date ? release_date.slice(0, 4) : 2022} ${vote_average.toFixed(1)}</p>\n                    </div>\n                </li>`;\n    document.querySelector('.movies-modal').insertAdjacentHTML('beforeend', data);\n};","const btn = document.querySelector('.btn-theme');\nconst body = document.querySelector('body');\nconst iconLight = document.querySelector('.theme-light');\nconst iconDark = document.querySelector('.theme-night');\n\n// dark_mode\n// light_mode\n\nbtn.addEventListener('click', onClickChangeTheme);\n\nif (localStorage.getItem('theme') === 'dark-theme') {\n  body.classList.add('dark-theme');\n\n  iconDark.textContent = 'dark_mode';\n  iconLight.textContent = '';\n}\nif (localStorage.getItem('theme') === 'light-theme') {\n  body.classList.add('light-theme');\n  iconDark.textContent = '';\n  iconLight.textContent = 'light_mode';\n}\n\nfunction onClickChangeTheme(ev) {\n  ev.preventDefault();\n\n  if (body.classList.contains('dark-theme')) {\n    body.classList.remove('dark-theme');\n    iconDark.textContent = 'light_mode';\n\n    body.classList.add('light-theme');\n    localStorage.setItem('theme', 'light-theme');\n    iconLight.textContent = '';\n  } else {\n    body.classList.remove('light-theme');\n    iconDark.textContent = 'dark_mode';\n\n    body.classList.add('dark-theme');\n    localStorage.setItem('theme', 'dark-theme');\n    iconLight.textContent = '';\n  }\n}\n","import { watchedMovies, queueMovies } from './js/user-storage.js';\nimport { requesterApi, requesterApiByID, requesterApiGenres } from './js/requester-api.js';\n\nimport { renderHomeCards, renderLibraryCards, renderModal, renderWatchedOrQueue } from './js/render.js';\n\nconst btns = document.querySelectorAll('.header-library__btn')\nconst list = document.querySelector('.list')\nconst imgHolder = document.querySelector('.wrapper-holder')\n\nimport { btn } from './js/theme-lite-dark.js'\n\n\nrequesterApiGenres()\n\nbtns.forEach((elem) => {\n    elem.addEventListener('click', (event) => {\n        if (!elem.classList.contains('header-library__btn--active')) {\n            btns.forEach((elem) => {\n                elem.classList.toggle('header-library__btn--active')\n            });\n        };\n        imgHolder.classList.add('is-hidden');\n        if (event.target.textContent === 'Watched') {\n            list.innerHTML = '';\n            const wMovies = JSON.parse(localStorage.getItem(`watchedMoviesIDs`));\n            if (wMovies) {\n                wMovies.forEach(elem => {\n                    requesterApiByID(elem)\n                        .then(data => {\n                            renderWatchedOrQueue(data);\n                        });\n                });\n            } else {\n                imgHolder.classList.remove('is-hidden');\n            };\n        } else if (event.target.textContent === 'Queue') {\n            list.innerHTML = '';\n            const qMoviesIDs = JSON.parse(localStorage.getItem(`queueMoviesIDs`));\n            imgHolder.classList.add('is-hidden');\n            if (qMoviesIDs) {\n                qMoviesIDs.forEach(elem => {\n                    requesterApiByID(elem)\n                        .then(data => {\n                            renderWatchedOrQueue(data);\n                        });\n                });\n            } else {\n                imgHolder.classList.remove('is-hidden');\n            };\n        };\n    });\n})\n\nlist.innerHTML = '';\nconst wMovies = JSON.parse(localStorage.getItem(`watchedMoviesIDs`));\nimgHolder.classList.add('is-hidden');\nif (wMovies) {\n    wMovies.forEach(elem => {\n        requesterApiByID(elem)\n            .then(data => {\n                renderWatchedOrQueue(data);\n            });\n    });\n} else {\n    imgHolder.classList.remove('is-hidden');\n};\n\n// requesterApi()\n//     .then(data => {\n//         renderLibraryCards(data.results)\n//     })\n\n\n// requesterApiByID(361743)\n//     .then(data => {\n//         renderModal(data)\n//     })\n\n// watchedMovies('put', 755566)"],"names":["$11dc707d6e5eb2de$export$39b2cf9496544130","id","fetch","then","response","ok","Error","status","json","catch","error","console","log","$0e271c871dabf025$export$1473c4fb1f0606e7","genres","poster_path","title","release_date","vote_average","currentGenres","JSON","parse","localStorage","getItem","forEach","ganre","elem","push","name","data","join","slice","toFixed","document","querySelector","insertAdjacentHTML","$053660c19111dece$var$btn","$053660c19111dece$var$body","$053660c19111dece$var$iconLight","$053660c19111dece$var$iconDark","addEventListener","ev","preventDefault","classList","contains","remove","textContent","add","setItem","$fc8e7c71b3b7ed96$var$btns","querySelectorAll","$fc8e7c71b3b7ed96$var$list","$fc8e7c71b3b7ed96$var$imgHolder","stringify","elem1","event","toggle","target","innerHTML","wMovies1","qMoviesIDs","$fc8e7c71b3b7ed96$var$wMovies"],"version":3,"file":"my-library.2c9a7854.js.map"}