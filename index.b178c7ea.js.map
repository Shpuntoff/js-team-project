{"mappings":"YAAA,IAAMA,EAAU,oCCAf,WACG,IAAMC,EAAeC,SAASC,cAAc,qBACtCC,EAAgBF,SAASC,cAAc,uBACvCE,EAAQH,SAASC,cAAc,kBAC/BG,EAAOJ,SAASC,cAAc,QAWpC,SAASI,IACPD,EAAKE,UAAUC,OAAO,iBACtBL,EAAcM,oBAAoB,QAASH,GAC3CF,EAAMG,UAAUG,IAAI,aACpBN,EAAMK,oBAAoB,QAASH,GACnCK,OAAOF,oBAAoB,UAAWG,GAExC,SAASA,EAAcC,GACF,WAAfA,EAAMC,MACRR,IAGJ,SAASS,EAAmBF,GACtBA,EAAMG,gBAAkBH,EAAMI,QAChCX,IAvBJN,EAAakB,iBAAiB,SAE9B,WACEd,EAAMG,UAAUC,OAAO,aACvBG,OAAOO,iBAAiB,UAAWN,GACnCT,EAAce,iBAAiB,QAASZ,GACxCF,EAAMc,iBAAiB,QAASH,GAChCV,EAAKE,UAAUG,IAAI,oBAbxB,GDmCGS,MAAM,yDAAiEC,OAARrB,EAAQ,oBAClEsB,MAAK,SAAAC,GACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAASI,UAEnBL,MAAK,SAAAC,GACFK,aAAaC,QAAS,aAAaC,KAAKC,UAAUR,EAASS,YAE9DC,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,MA3C7B,W,IAAsBG,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAWA,UAAA,GAAF,GAAIE,EAAAF,UAAAC,OAAA,YAAAD,UAAA,GAAaA,UAAA,GAAD,EAC9CG,EAAM,4DAA4EpB,OAAhBrB,EAAQ,UAAkBqB,OAAVmB,EAAU,mBAIhG,OAHIH,IACAI,EAAM,qDAAsEpB,OAAjBrB,EAAQ,WAAwBqB,OAAfgB,EAAO,UAAkBhB,OAAVmB,EAAU,oBAElGpB,MAAMqB,GACJnB,MAAK,SAAAC,GACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAASI,UAEnBL,MAAK,SAAAC,GACF,OAAOA,KAEVU,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,MEZxC,GACKZ,MAAK,SAAAoB,GCNH,IAAyBC,EACtBC,EACAC,EAFsBF,EDORD,EAAKI,QCNnBF,EAAe1C,SAASC,cAAc,SACtC0C,EAAMF,EAAMI,QAAO,SAACC,EAAGC,G,IAAIC,EAAED,EAAFC,GAAIC,EAAWF,EAAXE,YAAaC,EAAIH,EAAJG,KAAMC,EAAKJ,EAALI,MAAOC,EAAYL,EAAZK,aAAcC,EAASN,EAATM,UACnEC,EAAgB,GAOtB,OANe1B,KAAK2B,MAAM7B,aAAa8B,QAAS,eACzCC,SAAQ,SAAAC,GACPL,EAAUM,SAASD,EAAKV,KACxBM,EAAcM,KAAKF,EAAKR,SAGzBJ,EAAM,wBAGmE3B,OAH3C6B,EAAG,gNAOA7B,OAJwC8B,EAAY,iMAKrD9B,OADC+B,GAAcC,EAAM,wDACShC,OAA9BmC,EAAcO,KAAK,MAAM,OAAoD1C,OAA/CiC,EAAeA,EAAaU,MAAM,EAAG,GAAK,KAAK,qEAGrH,IACHpB,EAAaqB,UAAYpB,K","sources":["src/js/requester-api.js","src/js/team-modal.js","src/index.js","src/js/render.js"],"sourcesContent":["const API_KEY = '1e7c9642f723687d0411097a32c8e17f';\n\nexport function requesterApi(requst = '', numOfPage = 1) {\n    let ref = `https://api.themoviedb.org/3/trending/movie/week?api_key=${API_KEY}&page=${numOfPage}&language=en-US`;\n    if (requst) {\n        ref = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${requst}&page=${numOfPage}&language=en-US`\n    };\n    return fetch(ref)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(response.status);\n                }\n                return response.json();\n            })\n            .then(response => {\n                return response;\n            })\n            .catch(error => console.log(error));\n};\n\nexport function requesterApiByID(id) {\n    return fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(response.status);\n                }\n                return response.json();\n            })\n            .then(response => {\n                return response;\n            })\n            .catch(error => console.log(error));\n};\n\nexport function requesterApiGenres() {\n    fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}&language=en-US`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .then(response => {\n            localStorage.setItem(`genresList`, JSON.stringify(response.genres));\n        })\n        .catch(error => console.log(error));\n};","(() => {\n    const openModalBtn = document.querySelector('[data-modal-open]');\n    const closeModalBtn = document.querySelector('.team-modal__button');\n    const modal = document.querySelector('.modal-overlay');\n    const body = document.querySelector('body');\n  \n    openModalBtn.addEventListener('click', openModal);\n  \n    function openModal() {\n      modal.classList.remove('is-hidden');\n      window.addEventListener('keydown', onPressEscape);\n      closeModalBtn.addEventListener('click', closeModal);\n      modal.addEventListener('click', backdropCloseModal);\n      body.classList.add('scroll-hidden');\n    }\n    function closeModal() {\n      body.classList.remove('scroll-hidden');\n      closeModalBtn.removeEventListener('click', closeModal);\n      modal.classList.add('is-hidden');\n      modal.removeEventListener('click', closeModal);\n      window.removeEventListener('keydown', onPressEscape);\n    }\n    function onPressEscape(event) {\n      if (event.code === 'Escape') {\n        closeModal();\n      }\n    }\n    function backdropCloseModal(event) {\n      if (event.currentTarget === event.target) {\n        closeModal();\n      }\n    }\n  })();","import { watchedMovies, queueMovies } from './js/user-storage.js';\nimport { requesterApi, requesterApiByID, requesterApiGenres } from './js/requester-api.js';\nimport { renderHomeCards, renderLibraryCards, renderModal } from './js/render.js';\n\nrequesterApiGenres()\nrequesterApi()\n    .then(data => {\n        renderHomeCards(data.results)\n    })\n\n\n\n    import './js/team-modal';\n\n","export function renderHomeCards(array) {\n    const targetForAdd = document.querySelector('.list');\n    const gen = array.reduce((acc, { id, poster_path, name, title, release_date, genre_ids }) => {\n        const currentGenres = [];\n        const genres = JSON.parse(localStorage.getItem(`genresList`));\n        genres.forEach(elem => {\n            if (genre_ids.includes(elem.id)) {\n                currentGenres.push(elem.name);\n            };\n        });\n        return acc + `<li class=\"item\" id=\"${id}\">\n                        <div class=\"photo__wrapper\">\n                            <a class=\"img__link\" href=\"#\">\n                                <img class=\"img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\" width=\"395\"\">\n                            </a>\n                        </div>\n                        <div class=\"data__content\">\n                            <h2 class=\"title\">${name ? name : title}</h2>\n                            <p  class=\"text\">${currentGenres.join(', ')} | ${release_date ? release_date.slice(0, 4) : 2022}</p>\n                        </div>\n                    </li>`\n    }, '');\n    targetForAdd.innerHTML = gen;\n};\n\nexport function renderLibraryCards(array) {\n    const targetForAdd = document.querySelector('.list');\n    const gen = array.reduce((acc, { id, poster_path, name, title, vote_average, release_date, genre_ids }) => {\n        const currentGenres = [];\n        const genres = JSON.parse(localStorage.getItem(`genresList`));\n        genres.forEach(elem => {\n            if (genre_ids.includes(elem.id)) {\n                currentGenres.push(elem.name);\n            };\n        });\n        return acc + `<li class=\"item\" id=\"${id}\">\n                        <div class=\"photo__wrapper\">\n                            <a class=\"img__link\" href=\"#\">\n                                <img class=\"img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\" width=\"395\"\">\n                            </a>\n                        </div>\n                        <div class=\"data__content\">\n                            <h2 class=\"title\">${name ? name : title}</h2>\n                            <p  class=\"text\">${currentGenres.join(', ')} | ${release_date ? release_date.slice(0, 4) : 2022} ${vote_average.toFixed(1)}</p>\n                        </div>\n                    </li>`\n    }, '');\n    targetForAdd.innerHTML = gen;\n};\n\nexport function renderModal({ id, genres, poster_path, title, original_title, vote_average, vote_count, popularity, overview}) {\n    const targetForAdd = document.querySelector('.list');\n    const currentGenres = [];\n    genres.forEach(elem => currentGenres.push(elem.name));\n    targetForAdd.innerHTML = `<div id=\"${id}\">\n                        <img class=\"card-img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\">\n                        <h2 class=\"card-header\">${title}</h2>\n                        <div class=\"card-stats\">\n                            <p>Vote / Votes</p>\n                            <p>Popularyty</p>\n                            <p>Original Title</p>\n                            <p>Genre</p>\n                        </div>\n                        <div class=\"card-stats-values\">\n                            <p><span>${vote_average.toFixed(1)}</span> / ${vote_count}</p>\n                            <p>${popularity.toFixed(1)}</p>\n                            <p>${original_title}</p>\n                            <p>${currentGenres.join(', ')}</p>\n                        </div>\n                        <p class=\"card-about\">About</p>\n                        <p class=\"card-description\">${overview}</p>\n                        <button class=\"card-watched-btn\">add to watched</button>\n                        <button class=\"card-ueue-btn\">add to queue</button>\n                    </div>`;\n};"],"names":["$0381681f42d83abb$var$API_KEY","openModalBtn","document","querySelector","closeModalBtn","modal","body","closeModal","classList","remove","removeEventListener","add","window","onPressEscape","event","code","backdropCloseModal","currentTarget","target","addEventListener","fetch","concat","then","response","ok","Error","status","json","localStorage","setItem","JSON","stringify","genres","catch","error","console","log","requst","arguments","length","numOfPage","ref","data","array","targetForAdd","gen","results","reduce","acc","param","id","poster_path","name","title","release_date","genre_ids","currentGenres","parse","getItem","forEach","elem","includes","push","join","slice","innerHTML"],"version":3,"file":"index.b178c7ea.js.map"}