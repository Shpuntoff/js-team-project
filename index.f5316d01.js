const e=document.querySelector(".btn-theme"),t=document.querySelector("body"),s=document.querySelector(".theme-light"),n=document.querySelector(".theme-night");e.addEventListener("click",(function(e){e.preventDefault(),t.classList.contains("dark-theme")?(t.classList.remove("dark-theme"),n.style.display="none",t.classList.add("light-theme"),localStorage.setItem("theme","light-theme"),s.style.display="block"):(t.classList.remove("light-theme"),n.style.display="block",t.classList.add("dark-theme"),localStorage.setItem("theme","dark-theme"),s.style.display="none")})),"dark-theme"===localStorage.getItem("theme")&&(t.classList.add("dark-theme"),n.style.display="block",s.style.display="none"),"light-theme"===localStorage.getItem("theme")&&(t.classList.add("light-theme"),n.style.display="none",s.style.display="block"),(()=>{const e=document.querySelector("[data-modal-open]"),t=document.querySelector(".team-modal__button"),s=document.querySelector(".modal-overlay"),n=document.querySelector("body");function a(){n.classList.remove("scroll-hidden"),t.removeEventListener("click",a),s.classList.add("is-hidden"),s.removeEventListener("click",a),window.removeEventListener("keydown",l)}function l(e){"Escape"===e.code&&a()}function o(e){e.currentTarget===e.target&&a()}e.addEventListener("click",(function(){s.classList.remove("is-hidden"),window.addEventListener("keydown",l),t.addEventListener("click",a),s.addEventListener("click",o),n.classList.add("scroll-hidden")}))})(),fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=1e7c9642f723687d0411097a32c8e17f&language=en-US").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>{localStorage.setItem("genresList",JSON.stringify(e.genres))})).catch((e=>console.log(e))),function(e="",t=1){let s=`https://api.themoviedb.org/3/trending/movie/week?api_key=1e7c9642f723687d0411097a32c8e17f&page=${t}&language=en-US`;return e&&(s=`https://api.themoviedb.org/3/search/movie?api_key=1e7c9642f723687d0411097a32c8e17f&query=${e}&page=${t}&language=en-US`),fetch(s).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>e)).catch((e=>console.log(e)))}().then((e=>{var t;t=e.results,document.querySelector(".list").innerHTML=t.reduce(((e,{id:t,poster_path:s,name:n,title:a,release_date:l,genre_ids:o})=>{const i=[];return JSON.parse(localStorage.getItem("genresList")).forEach((e=>{o.includes(e.id)&&i.push(e.name)})),e+`<li class="item" id="${t}">\n                        <div class="photo__wrapper">\n                            <a class="img__link" href="#">\n                                <img class="img" src="https://image.tmdb.org/t/p/w500/${s}" alt="" width="395"">\n                            </a>\n                        </div>\n                        <div class="data__content">\n                            <h2 class="title">${n||a}</h2>\n                            <p  class="text">${i.join(", ")} | ${l?l.slice(0,4):2022}</p>\n                        </div>\n                    </li>`}),"")}));
//# sourceMappingURL=index.f5316d01.js.map
