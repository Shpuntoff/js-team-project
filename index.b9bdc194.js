!function(){var t,e="1e7c9642f723687d0411097a32c8e17f";function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i="https://api.themoviedb.org/3/trending/movie/week?api_key=".concat(e,"&page=").concat(n,"&language=en-US");return t&&(i="https://api.themoviedb.org/3/search/movie?api_key=".concat(e,"&query=").concat(t,"&page=").concat(n,"&language=en-US")),fetch(i).then((function(t){if(!t.ok)throw new Error(t.status);return t.json()})).then((function(t){return console.log(t),t})).catch((function(t){return console.log(t)}))}function i(t){document.querySelector(".list").innerHTML=t.reduce((function(t,e){var n=e.id,i=e.poster_path,a=e.name,o=e.title,c=e.release_date,l=e.genre_ids,s=[];return JSON.parse(localStorage.getItem("genresList")).forEach((function(t){l.includes(t.id)&&s.push(t.name)})),t+'<li class="item" id="'.concat(n,'">\n                        <div class="photo__wrapper">\n                            <a class="img__link" href="#">\n                                <img class="img" src="https://image.tmdb.org/t/p/w500/').concat(i,'" alt="" width="395"">\n                            </a>\n                        </div>\n                        <div class="data__content">\n                            <h2 class="title">').concat(a||o,'</h2>\n                            <p  class="text">').concat(s.join(", ")," | ").concat(c?c.slice(0,4):2022,"</p>\n                        </div>\n                    </li>")}),"")}var a=document.querySelector(".pagination");function o(e,n){var i="",o=e+1,c=e+2,l=e-1;t=e,n,e>1&&(i+="<li class='arrow'>&#129144;</li>"),e>1&&(i+="<li class='pagination__link pagination__link--first'>1</li>"),e>4&&(i+="<li class='pagination__link pagination__link--point'>...</li>"),e>3&&(i+="<li class='pagination__link'>".concat(e-2,"</li>")),e>2&&(i+="<li class='pagination__link'>".concat(l,"</li>")),i+="<li class='pagination__link--active'>".concat(e,"</li>"),n-1>e&&(i+="<li class='pagination__link'>".concat(o,"</li>")),n-2>e&&(i+="<li class='pagination__link'>".concat(c,"</li>")),n-3>e&&(i+="<li class='pagination__link pagination__link--point'>...</li>"),n>e&&(i+="<li class='pagination__link pagination__link--last'>".concat(n,"</li>"),i+="<li class='arrow'>&#129146;<li>"),a.innerHTML=i}a.addEventListener("click",(function(e){if("LI"!==e.target.nodeName)return;if("..."===e.target.textContent)return;"ðŸ¡¸"===e.target.textContent&&n(requst="",t-=1).then((function(e){o(e.page,e.total_pages),i(e.results),console.log(t)}));"ðŸ¡º"===e.target.textContent&&n(requst="",t+=1).then((function(e){o(e.page,e.total_pages),i(e.results),console.log(t)}))}));var c=document.querySelector(".btn-theme"),l=document.querySelector("body"),s=document.querySelector(".theme-light"),r=document.querySelector(".theme-night");c.addEventListener("click",(function(t){t.preventDefault(),l.classList.contains("dark-theme")?(l.classList.remove("dark-theme"),r.textContent="light_mode",l.classList.add("light-theme"),localStorage.setItem("theme","light-theme"),s.textContent=""):(l.classList.remove("light-theme"),r.textContent="dark_mode",l.classList.add("dark-theme"),localStorage.setItem("theme","dark-theme"),s.textContent="")})),"dark-theme"===localStorage.getItem("theme")&&(l.classList.add("dark-theme"),r.textContent="dark_mode",s.textContent=""),"light-theme"===localStorage.getItem("theme")&&(l.classList.add("light-theme"),r.textContent="",s.textContent="light_mode"),function(){var t=document.querySelector("[data-modal-open]"),e=document.querySelector(".team-modal__button"),n=document.querySelector(".modal-overlay"),i=document.querySelector("body");function a(){i.classList.remove("scroll-hidden"),e.removeEventListener("click",a),n.classList.add("is-hidden"),n.removeEventListener("click",a),window.removeEventListener("keydown",o)}function o(t){"Escape"===t.code&&a()}function c(t){t.currentTarget===t.target&&a()}t.addEventListener("click",(function(){n.classList.remove("is-hidden"),window.addEventListener("keydown",o),e.addEventListener("click",a),n.addEventListener("click",c),i.classList.add("scroll-hidden")}))}(),fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(e,"&language=en-US")).then((function(t){if(!t.ok)throw new Error(t.status);return t.json()})).then((function(t){localStorage.setItem("genresList",JSON.stringify(t.genres))})).catch((function(t){return console.log(t)})),n().then((function(t){i(t.results),o(t.page,t.total_pages)}))}();
//# sourceMappingURL=index.b9bdc194.js.map
