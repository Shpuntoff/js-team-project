!function(){var t="1e7c9642f723687d0411097a32c8e17f";fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(t,"&language=en-US")).then((function(t){if(!t.ok)throw new Error(t.status);return t.json()})).then((function(t){localStorage.setItem("genresList",JSON.stringify(t.genres))})).catch((function(t){return console.log(t)})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c="https://api.themoviedb.org/3/trending/movie/week?api_key=".concat(t,"&page=").concat(n,"&language=en-US");return e&&(c="https://api.themoviedb.org/3/search/movie?api_key=".concat(t,"&query=").concat(e,"&page=").concat(n,"&language=en-US")),fetch(c).then((function(t){if(!t.ok)throw new Error(t.status);return t.json()})).then((function(t){return t})).catch((function(t){return console.log(t)}))}().then((function(t){var e,n,c;e=t.results,n=document.querySelector(".list"),c=e.reduce((function(t,e){var n=e.id,c=e.poster_path,a=e.name,o=e.title,i=e.release_date,r=e.genre_ids,s=[];return JSON.parse(localStorage.getItem("genresList")).forEach((function(t){r.includes(t.id)&&s.push(t.name)})),t+'<li class="item" id="'.concat(n,'">\n                        <div class="photo__wrapper">\n                            <a class="img__link" href="#">\n                                <img class="img" src="https://image.tmdb.org/t/p/w500/').concat(c,'" alt="" width="395"">\n                            </a>\n                        </div>\n                        <div class="data__content">\n                            <h2 class="title">').concat(a||o,'</h2>\n                            <p  class="text">').concat(s.join(", ")," | ").concat(i?i.slice(0,4):2022,"</p>\n                        </div>\n                    </li>")}),""),n.innerHTML=c}))}();
//# sourceMappingURL=index.3f02c463.js.map
