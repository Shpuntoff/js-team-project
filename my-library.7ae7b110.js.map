{"mappings":"AAyBO,SAASA,EAAmBC,GAC/B,MAAMC,EAAeC,SAASC,cAAc,SACtCC,EAAMJ,EAAMK,QAAO,CAACC,GAAKC,GAAEA,EAAEC,YAAEA,EAAWC,KAAEA,EAAIC,MAAEA,EAAKC,aAAEA,EAAYC,aAAEA,EAAYC,UAAEA,MACvF,MAAMC,EAAgB,GAOtB,OANeC,KAAKC,MAAMC,aAAaC,QAAQ,eACxCC,SAAQC,IACPP,EAAUQ,SAASD,EAAKb,KACxBO,EAAcQ,KAAKF,EAAKX,SAGzBH,EAAM,wBAAwBC,gNAG2CC,iMAIxCC,GAAcC,wDACfI,EAAcS,KAAK,WAAWX,EAAeA,EAAaY,MAAM,EAAG,GAAK,QAAQb,EAAac,QAAQ,sEAG7I,IACHxB,EAAayB,UAAYtB,EC/C7B,MAAMuB,EAAMzB,SAASC,cAAc,cAC7ByB,EAAO1B,SAASC,cAAc,QAC9B0B,EAAY3B,SAASC,cAAc,gBACnC2B,EAAW5B,SAASC,cAAc,gBAExCwB,EAAII,iBAAiB,SAarB,SAA4BC,GAC1BA,EAAGC,iBAECL,EAAKM,UAAUC,SAAS,eAC1BP,EAAKM,UAAUE,OAAO,cACtBN,EAASO,MAAMC,QAAU,OAEzBV,EAAKM,UAAUK,IAAI,eACnBtB,aAAauB,QAAQ,QAAS,eAC9BX,EAAUQ,MAAMC,QAAU,UAE1BV,EAAKM,UAAUE,OAAO,eACtBN,EAASO,MAAMC,QAAU,QAEzBV,EAAKM,UAAUK,IAAI,cACnBtB,aAAauB,QAAQ,QAAS,cAC9BX,EAAUQ,MAAMC,QAAU,WA3BQ,eAAlCrB,aAAaC,QAAQ,WACvBU,EAAKM,UAAUK,IAAI,cACnBT,EAASO,MAAMC,QAAU,QACzBT,EAAUQ,MAAMC,QAAU,QAEU,gBAAlCrB,aAAaC,QAAQ,WACvBU,EAAKM,UAAUK,IAAI,eACnBT,EAASO,MAAMC,QAAU,OACzBT,EAAUQ,MAAMC,QAAU,SCoBxBG,MAAM,yGACDC,MAAKC,IACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAASI,UAEnBL,MAAKC,IACF1B,aAAauB,QAAQ,aAAczB,KAAKiC,UAAUL,EAASM,YAE9DC,OAAMC,GAASC,QAAQC,IAAIF,KA3C7B,SAAsBG,EAAS,GAAIC,EAAY,GAClD,IAAIC,EAAM,kGAA4ED,mBAItF,OAHID,IACAE,EAAM,4FAAsEF,UAAeC,oBAExFd,MAAMe,GACJd,MAAKC,IACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAASI,UAEnBL,MAAKC,GACKA,IAEVO,OAAMC,GAASC,QAAQC,IAAIF,KCVxC,GACKT,MAAKe,IACF1D,EAAmB0D,EAAKC","sources":["src/js/render.js","src/js/theme-lite-dark.js","src/js/requester-api.js","src/my-library.js"],"sourcesContent":["export function renderHomeCards(array) {\n    const targetForAdd = document.querySelector('.list');\n    const gen = array.reduce((acc, { id, poster_path, name, title, release_date, genre_ids }) => {\n        const currentGenres = [];\n        const genres = JSON.parse(localStorage.getItem(`genresList`));\n        genres.forEach(elem => {\n            if (genre_ids.includes(elem.id)) {\n                currentGenres.push(elem.name);\n            };\n        });\n        return acc + `<li class=\"item\" id=\"${id}\">\n                        <div class=\"photo__wrapper\">\n                            <a class=\"img__link\" href=\"#\">\n                                <img class=\"img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\" width=\"395\"\">\n                            </a>\n                        </div>\n                        <div class=\"data__content\">\n                            <h2 class=\"title\">${name ? name : title}</h2>\n                            <p  class=\"text\">${currentGenres.join(', ')} | ${release_date ? release_date.slice(0, 4) : 2022}</p>\n                        </div>\n                    </li>`\n    }, '');\n    targetForAdd.innerHTML = gen;\n};\n\nexport function renderLibraryCards(array) {\n    const targetForAdd = document.querySelector('.list');\n    const gen = array.reduce((acc, { id, poster_path, name, title, vote_average, release_date, genre_ids }) => {\n        const currentGenres = [];\n        const genres = JSON.parse(localStorage.getItem(`genresList`));\n        genres.forEach(elem => {\n            if (genre_ids.includes(elem.id)) {\n                currentGenres.push(elem.name);\n            };\n        });\n        return acc + `<li class=\"item\" id=\"${id}\">\n                        <div class=\"photo__wrapper\">\n                            <a class=\"img__link\" href=\"#\">\n                                <img class=\"img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\" width=\"395\"\">\n                            </a>\n                        </div>\n                        <div class=\"data__content\">\n                            <h2 class=\"title\">${name ? name : title}</h2>\n                            <p  class=\"text\">${currentGenres.join(', ')} | ${release_date ? release_date.slice(0, 4) : 2022} ${vote_average.toFixed(1)}</p>\n                        </div>\n                    </li>`\n    }, '');\n    targetForAdd.innerHTML = gen;\n};\n\nexport function renderModal({ id, genres, poster_path, title, original_title, vote_average, vote_count, popularity, overview}) {\n    const targetForAdd = document.querySelector('.list');\n    const currentGenres = [];\n    genres.forEach(elem => currentGenres.push(elem.name));\n    targetForAdd.innerHTML = `<div id=\"${id}\">\n                        <img class=\"card-img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\">\n                        <h2 class=\"card-header\">${title}</h2>\n                        <div class=\"card-stats\">\n                            <p>Vote / Votes</p>\n                            <p>Popularyty</p>\n                            <p>Original Title</p>\n                            <p>Genre</p>\n                        </div>\n                        <div class=\"card-stats-values\">\n                            <p><span>${vote_average.toFixed(1)}</span> / ${vote_count}</p>\n                            <p>${popularity.toFixed(1)}</p>\n                            <p>${original_title}</p>\n                            <p>${currentGenres.join(', ')}</p>\n                        </div>\n                        <p class=\"card-about\">About</p>\n                        <p class=\"card-description\">${overview}</p>\n                        <button class=\"card-watched-btn\">add to watched</button>\n                        <button class=\"card-ueue-btn\">add to queue</button>\n                    </div>`;\n};","const btn = document.querySelector('.btn-theme');\nconst body = document.querySelector('body');\nconst iconLight = document.querySelector('.theme-light');\nconst iconDark = document.querySelector('.theme-night');\n\nbtn.addEventListener('click', onClickChangeTheme);\n\nif (localStorage.getItem('theme') === 'dark-theme') {\n  body.classList.add('dark-theme');\n  iconDark.style.display = 'block';\n  iconLight.style.display = 'none';\n}\nif (localStorage.getItem('theme') === 'light-theme') {\n  body.classList.add('light-theme');\n  iconDark.style.display = 'none';\n  iconLight.style.display = 'block';\n}\n\nfunction onClickChangeTheme(ev) {\n  ev.preventDefault();\n\n  if (body.classList.contains('dark-theme')) {\n    body.classList.remove('dark-theme');\n    iconDark.style.display = 'none';\n\n    body.classList.add('light-theme');\n    localStorage.setItem('theme', 'light-theme');\n    iconLight.style.display = 'block';\n  } else {\n    body.classList.remove('light-theme');\n    iconDark.style.display = 'block';\n\n    body.classList.add('dark-theme');\n    localStorage.setItem('theme', 'dark-theme');\n    iconLight.style.display = 'none';\n  }\n}\n","const API_KEY = '1e7c9642f723687d0411097a32c8e17f';\n\nexport function requesterApi(requst = '', numOfPage = 1) {\n    let ref = `https://api.themoviedb.org/3/trending/movie/week?api_key=${API_KEY}&page=${numOfPage}&language=en-US`;\n    if (requst) {\n        ref = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${requst}&page=${numOfPage}&language=en-US`\n    };\n    return fetch(ref)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(response.status);\n                }\n                return response.json();\n            })\n            .then(response => {\n                return response;\n            })\n            .catch(error => console.log(error));\n};\n\nexport function requesterApiByID(id) {\n    return fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(response.status);\n                }\n                return response.json();\n            })\n            .then(response => {\n                return response;\n            })\n            .catch(error => console.log(error));\n};\n\nexport function requesterApiGenres() {\n    fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}&language=en-US`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .then(response => {\n            localStorage.setItem(`genresList`, JSON.stringify(response.genres));\n        })\n        .catch(error => console.log(error));\n};","import { watchedMovies, queueMovies } from './js/user-storage.js';\nimport { requesterApi, requesterApiByID, requesterApiGenres } from './js/requester-api.js';\nimport { renderHomeCards, renderLibraryCards, renderModal } from './js/render.js';\nimport { btn } from './js/theme-lite-dark.js'\n\n\nrequesterApiGenres()\nrequesterApi()\n    .then(data => {\n        renderLibraryCards(data.results)\n    })\n\n\n// requesterApiByID(361743)\n//     .then(data => {\n//         renderModal(data)\n//     })"],"names":["$0e271c871dabf025$export$78d0e3a3948d754","array","targetForAdd","document","querySelector","gen","reduce","acc","id","poster_path","name","title","vote_average","release_date","genre_ids","currentGenres","JSON","parse","localStorage","getItem","forEach","elem","includes","push","join","slice","toFixed","innerHTML","$053660c19111dece$var$btn","$053660c19111dece$var$body","$053660c19111dece$var$iconLight","$053660c19111dece$var$iconDark","addEventListener","ev","preventDefault","classList","contains","remove","style","display","add","setItem","fetch","then","response","ok","Error","status","json","stringify","genres","catch","error","console","log","requst","numOfPage","ref","data","results"],"version":3,"file":"my-library.7ae7b110.js.map"}