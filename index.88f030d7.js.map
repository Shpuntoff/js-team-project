{"mappings":"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","sources":["src/index.js","src/js/pagination.js","src/js/scroll.js","src/js/fetchTitle.js"],"sourcesContent":["\nimport { watchedMovies, queueMovies } from './js/user-storage.js';\nimport { requesterApi, requesterApiByID, requesterApiGenres } from './js/requester-api.js';\nimport { renderHomeCards, renderLibraryCards, renderModal } from './js/render.js';\nimport { renderPagination } from './js/pagination.js';\nimport { btn } from './js/theme-lite-dark.js';\nimport { scrollBtn } from './js/scroll.js';\nimport { spinner } from './js/spinner.js';\n\nrequesterApiGenres();\nrequesterApi()\n    .then(data => {\n        renderHomeCards(data.results);\n        renderPagination(data.page, data.total_pages);\n    });\n\nimport './js/team-modal';\nimport './js/modal-movies';\nimport './js/pagination';\nimport './js/fetchTitle';","import {\n  requesterApi,\n  requesterApiByID,\n  requesterApiGenres,\n} from './requester-api.js';\nimport {renderHomeCards} from './render.js';\nimport {spinner} from'./spinner.js'\nimport {onScrollUp} from './scroll.js'\nimport {spinner} from'./spinner.js'\nimport {query} from'./fetchTitle.js'\n \n\n\nlet globalCurrentpage = 1\nlet globalAllPages\n\nconst pagination = document.querySelector('.pagination');\npagination.addEventListener('click', handlerPagination);\n\nexport function renderPagination(currentPage, allPages) {\n  let markup = '';\n  let nextPage = currentPage + 1;\n  let nextPageTwo = currentPage + 2;\n  let beforePage = currentPage - 1;\n  let beforePageTwo = currentPage - 2;\n  globalCurrentpage = currentPage;\n  globalAllPages = allPages;\n\n  if (currentPage > 1) {\n    markup += `<li class='arrow'><</li>`;\n  }\n  if (currentPage > 1) {\n    markup += `<li class='pagination__link pagination__link--first'>1</li>`;\n  }\n  if (currentPage > 4) {\n    markup += `<li class='pagination__link--point'>...</li>`;\n  }\n  if (currentPage > 3) {\n    markup += `<li class='pagination__link'>${beforePageTwo}</li>`;\n  }\n  if (currentPage > 2) {\n    markup += `<li class='pagination__link'>${beforePage}</li>`;\n  }\n\n  markup += `<li class='pagination__link--active'>${currentPage}</li>`;\n\n  if (allPages - 1 > currentPage) {\n    markup += `<li class='pagination__link'>${nextPage}</li>`;\n  }\n\n  if (allPages - 2 > currentPage) {\n    markup += `<li class='pagination__link'>${nextPageTwo}</li>`;\n  }\n\n  if (allPages - 3 > currentPage) {\n    markup += `<li class='pagination__link--point'>...</li>`;\n  }\n\n  if (allPages > currentPage) {\n    markup += `<li class='pagination__link pagination__link--last'>${allPages}</li>`;\n    markup += `<li class='arrow'>><li>`;\n  }\n\n  pagination.innerHTML = markup;\n  \n\n}\n\nfunction handlerPagination(e) {\n  console.log(e.target.textContent); \n\n  if (e.target.nodeName !== 'LI') {\n    return;\n  }\n  if (e.target.textContent === \"...\") {\n    return\n  };\n\n  if (e.target.textContent === '<') {\n\n    globalCurrentpage = globalCurrentpage -= 1\n    requesterApi(query, globalCurrentpage)\n    .then(data => {\n      renderPagination(data.page, data.total_pages);\n      renderHomeCards(data.results);\n      onScrollUp(e)\n\n      return;\n    });\n  };\n\n  if (e.target.textContent === '>') {\n    globalCurrentpage = globalCurrentpage += 1\n    requesterApi(query, globalCurrentpage)\n    .then(data => {\n      spinner();\n      renderPagination(data.page, data.total_pages);\n      renderHomeCards(data.results);\n      onScrollUp(e)\n\n     \n\n      return;\n      });\n  };\n\n  if (e.target.textContent !== '>' && e.target.textContent !== '<') {\n    globalCurrentpage = e.target.textContent\n    requesterApi(query, globalCurrentpage)\n      .then(data => {\n        renderPagination(data.page, data.total_pages)\n        renderHomeCards(data.results);\n        onScrollUp(e)\n\n        return;\n      });\n  };\n\n};","const scrollBtn = document.querySelector('.scroll__link');\nconst scrollToUp = document.querySelector('.scroll__wrapper');\nconst body = document.querySelector('body')\n\nscrollBtn.addEventListener('click', onScrollUp);\n\nexport function onScrollUp(ev) {\n  ev.preventDefault();\n\n  body.scrollIntoView({\n    behavior: 'smooth',\n    block: 'start',\n  })\n}\n\nwindow.onscroll = () => {\n  if (window.scrollY > 300) {\n    scrollToUp.classList.remove('scroll__isHiden');\n  } else {\n    scrollToUp.classList.add('scroll__isHiden');\n  }\n};\n","import { requesterApi } from './requester-api';\nimport { renderHomeCards } from './render.js';\nimport { renderPagination } from './pagination';\n\nconst formEL = document.querySelector('.form');\nconst inputEL = document.querySelector('.input');\nconst notifFetch = document.querySelector('.notif');\nconst contentBoxEl = document.querySelector('.list');\nconst wrapperHome = document.querySelector('.wrapper-holder-home');\nconst paginationEL = document.querySelector('.pagination');\nexport let query;\n\nconst submitHandler = event => {\n  event.preventDefault();\n  query = inputEL.value;\n  console.log(query.length);\n  if (query.length < 1) {\n    notifFetch.textContent = 'Enter field';\n    notifFetch.classList.remove('visually-hidden');\n    timerId = setInterval(() => {\n      notifFetch.classList.add('visually-hidden');\n    }, 5000);\n  } else {\n    requesterApi(query, 1).then(data => {\n      if (data.results.length < 1) {\n        wrapperHome.classList.remove('visually-hidden');\n        notifFetch.textContent =\n          'Search result not successful. Enter the correct movie name and';\n        notifFetch.classList.remove('visually-hidden');\n        timerId = setInterval(() => {\n          notifFetch.classList.add('visually-hidden');\n        }, 8000);\n        contentBoxEl.innerHTML = '';\n        paginationEL.innerHTML = '';\n      } else {\n        notifFetch.classList.add('visually-hidden');\n        wrapperHome.classList.add('visually-hidden');\n        renderPagination(data.page, data.total_pages);\n        renderHomeCards(data.results);\n        return;\n      }\n    });\n  }\n};\n\nformEL.addEventListener('submit', submitHandler);\n"],"names":["parcelRequire","$22b277e67ad1df42$var$scrollBtn","document","querySelector","$22b277e67ad1df42$var$scrollToUp","$22b277e67ad1df42$var$body","$22b277e67ad1df42$export$3bd2b79c308f6a9","ev","preventDefault","scrollIntoView","behavior","block","addEventListener","window","onscroll","scrollY","classList","remove","add","$1x4B6","$a0cbe0793b4f1c64$var$formEL","$a0cbe0793b4f1c64$var$inputEL","$a0cbe0793b4f1c64$var$notifFetch","$a0cbe0793b4f1c64$var$contentBoxEl","$a0cbe0793b4f1c64$var$wrapperHome","$a0cbe0793b4f1c64$var$paginationEL","$a0cbe0793b4f1c64$export$2fa187e846a241c4","event","value","console","log","length","textContent","timerId","setInterval","requesterApi","then","data","results","$1bab9c519cfa82bc$export$825408fbca4f2040","page","total_pages","$1dkLo","renderHomeCards","innerHTML","$1bab9c519cfa82bc$var$globalAllPages","$1bab9c519cfa82bc$var$globalCurrentpage","$1bab9c519cfa82bc$var$pagination","currentPage","allPages","markup","e","target","nodeName","$04jNI","spinner","requesterApiGenres"],"version":3,"file":"index.88f030d7.js.map"}