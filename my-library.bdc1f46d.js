!function(){var e="1e7c9642f723687d0411097a32c8e17f";function t(t){return fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(e,"&language=en-US")).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}))}function n(e){var t=e.id,n=e.genres,a=e.poster_path,s=e.title,o=e.release_date,c=e.vote_average,i=[];JSON.parse(localStorage.getItem("genresList")).forEach((function(e){n.forEach((function(t){e.id===t.id&&i.push(t.name)}))}));var r='<li class="item" id="'.concat(t,'">\n                    <div class="photo__wrapper">\n                        <a class="img__link" href="#">\n                            <img class="img" src="https://image.tmdb.org/t/p/w500/').concat(a,'" alt="" width="395"">\n                        </a>\n                    </div>\n                    <div class="data__content">\n                        <h2 class="title">').concat(s,'</h2>\n                        <p  class="text">').concat(i.join(", ")," | ").concat(o?o.slice(0,4):2022," ").concat(c.toFixed(1),"</p>\n                    </div>\n                </li>");document.querySelector(".list").insertAdjacentHTML("beforeend",r)}var a=document.querySelector(".btn-theme"),s=document.querySelector("body"),o=document.querySelector(".theme-light"),c=document.querySelector(".theme-night");a.addEventListener("click",(function(e){e.preventDefault(),s.classList.contains("dark-theme")?(s.classList.remove("dark-theme"),c.style.display="none",s.classList.add("light-theme"),localStorage.setItem("theme","light-theme"),o.style.display="block"):(s.classList.remove("light-theme"),c.style.display="block",s.classList.add("dark-theme"),localStorage.setItem("theme","dark-theme"),o.style.display="none")})),"dark-theme"===localStorage.getItem("theme")&&(s.classList.add("dark-theme"),c.style.display="block",o.style.display="none"),"light-theme"===localStorage.getItem("theme")&&(s.classList.add("light-theme"),c.style.display="none",o.style.display="block");var i=document.querySelectorAll(".header-library__btn"),r=document.querySelector(".list"),l=document.querySelector(".wrapper-holder");fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(e,"&language=en-US")).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){localStorage.setItem("genresList",JSON.stringify(e.genres))})).catch((function(e){return console.log(e)})),i.forEach((function(e){e.addEventListener("click",(function(a){if(e.classList.contains("header-library__btn--active")||i.forEach((function(e){e.classList.toggle("header-library__btn--active")})),l.classList.add("is-hidden"),"Watched"===a.target.textContent){r.innerHTML="";var s=JSON.parse(localStorage.getItem("watchedMoviesIDs"));s?s.forEach((function(e){t(e).then((function(e){n(e)}))})):l.classList.remove("is-hidden")}else if("Queue"===a.target.textContent){r.innerHTML="";var o=JSON.parse(localStorage.getItem("queueMoviesIDs"));l.classList.add("is-hidden"),o?o.forEach((function(e){t(e).then((function(e){n(e)}))})):l.classList.remove("is-hidden")}}))})),r.innerHTML="";var d=JSON.parse(localStorage.getItem("watchedMoviesIDs"));l.classList.add("is-hidden"),d?d.forEach((function(e){t(e).then((function(e){n(e)}))})):l.classList.remove("is-hidden")}();
//# sourceMappingURL=my-library.bdc1f46d.js.map
