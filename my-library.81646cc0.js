function e(e){return fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=1e7c9642f723687d0411097a32c8e17f&language=en-US`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>e)).catch((e=>console.log(e)))}function t({id:e,genres:t,poster_path:s,title:a,release_date:i,vote_average:n}){const o=[];JSON.parse(localStorage.getItem("genresList")).forEach((e=>{t.forEach((t=>{e.id===t.id&&o.push(t.name)}))}));const l=`<li class="item" id="${e}">\n                    <div class="photo__wrapper">\n                        <a class="img__link" href="#">\n                            <img class="img" src="https://image.tmdb.org/t/p/w500/${s}" alt="" width="395"">\n                        </a>\n                    </div>\n                    <div class="data__content">\n                        <h2 class="title">${a}</h2>\n                        <p  class="text">${o.join(", ")} | ${i?i.slice(0,4):2022} ${n.toFixed(1)}</p>\n                    </div>\n                </li>`;document.querySelector(".list").insertAdjacentHTML("beforeend",l)}const s=document.querySelector(".btn-theme"),a=document.querySelector("body"),i=document.querySelector(".theme-light"),n=document.querySelector(".theme-night");s.addEventListener("click",(function(e){e.preventDefault(),a.classList.contains("dark-theme")?(a.classList.remove("dark-theme"),n.style.display="none",a.classList.add("light-theme"),localStorage.setItem("theme","light-theme"),i.style.display="block"):(a.classList.remove("light-theme"),n.style.display="block",a.classList.add("dark-theme"),localStorage.setItem("theme","dark-theme"),i.style.display="none")})),"dark-theme"===localStorage.getItem("theme")&&(a.classList.add("dark-theme"),n.style.display="block",i.style.display="none"),"light-theme"===localStorage.getItem("theme")&&(a.classList.add("light-theme"),n.style.display="none",i.style.display="block");const o=document.querySelectorAll(".header-library__btn"),l=document.querySelector(".list"),r=document.querySelector(".wrapper-holder");fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=1e7c9642f723687d0411097a32c8e17f&language=en-US").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>{localStorage.setItem("genresList",JSON.stringify(e.genres))})).catch((e=>console.log(e))),o.forEach((s=>{s.addEventListener("click",(a=>{if(s.classList.contains("header-library__btn--active")||o.forEach((e=>{e.classList.toggle("header-library__btn--active")})),r.classList.add("is-hidden"),"Watched"===a.target.textContent){l.innerHTML="";const s=JSON.parse(localStorage.getItem("watchedMoviesIDs"));s?s.forEach((s=>{e(s).then((e=>{t(e)}))})):r.classList.remove("is-hidden")}else if("Queue"===a.target.textContent){l.innerHTML="";const s=JSON.parse(localStorage.getItem("queueMoviesIDs"));r.classList.add("is-hidden"),s?s.forEach((s=>{e(s).then((e=>{t(e)}))})):r.classList.remove("is-hidden")}}))})),l.innerHTML="";const c=JSON.parse(localStorage.getItem("watchedMoviesIDs"));r.classList.add("is-hidden"),c?c.forEach((s=>{e(s).then((e=>{t(e)}))})):r.classList.remove("is-hidden");
//# sourceMappingURL=my-library.81646cc0.js.map
